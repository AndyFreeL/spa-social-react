{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","assets/images/katanaBottom.png","assets/images/decorLogo.png","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","className","s","onChange","e","currentTarget","value","onBlur","updateStatus","autoFocus","ProfileDataReduxForm","reduxForm","form","handleSubmit","profile","error","onSubmit","es","formSummaryError","createField","Input","type","Textarea","Object","keys","contacts","map","key","contact","ProfileData","isOwner","goToEditMode","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contact","ProfileInfo","savePhoto","saveProfile","Preloader","content","body","gAreaL","photo","src","photos","large","ava","target","files","length","gAreaR","initialValues","formData","then","Post","item","decor","decor_logo","decorLogo","alt","header","avatar","text_zone","post_text","message","katana","like_zone","likesCount","maxLength10","maxLengthCreator","MyPosts","memo","postsElement","posts","p","id","MyPostReduxForm","values","addPost","newPostText","Field","placeholder","name","component","validate","required","MyPostsContainer","profilePage","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","match","params","authorizedUserId","getProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","compose","withRouter"],"mappings":"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","file":"static/js/3.719706a4.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth:state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n class RedirectComponent extends React.Component{\r\n   render() {\r\n     if(!this.props.isAuth) return <Redirect to='/login' />\r\n     return <Component {...this.props} />\r\n   }\r\n }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n return ConnectedAuthRedirectComponent;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProfileInfo_content__4G1Zp\",\"body\":\"ProfileInfo_body__B9Pj6\",\"gAreaL\":\"ProfileInfo_gAreaL__2Gsic\",\"gAreaR\":\"ProfileInfo_gAreaR__1mn9q\",\"photo\":\"ProfileInfo_photo__M5UJR\",\"about\":\"ProfileInfo_about__1Ik8C\",\"status\":\"ProfileInfo_status__1bXnb\",\"contact\":\"ProfileInfo_contact__Cj-Sv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__1Kzvb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__don9T\",\"avatar\":\"Post_avatar__3X2I6\",\"header\":\"Post_header__2MnSd\",\"text_zone\":\"Post_text_zone__2_595\",\"like_zone\":\"Post_like_zone__37LAY\",\"post_text\":\"Post_post_text__RRLtC\",\"katana\":\"Post_katana__1xy13\",\"decor\":\"Post_decor__3JI67\",\"decor_logo\":\"Post_decor_logo__1C67g\"};","import React, {useEffect, useState} from 'react';\r\nimport s from '../ProfileInfo/ProfileInfo.module.css'\r\n\r\nconst ProfileStatusWithHooks =(props)=> {\r\n\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(()=>{\r\n    setStatus(props.status)\r\n  }, [props.status]);\r\n\r\n  const activateEditMode =()=>{\r\n    setEditMode(true);\r\n  }\r\n\r\n  const deactivateEditMode=()=>{\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  }\r\n\r\n const onStatusChange=(e)=>{\r\n    setStatus(e.currentTarget.value);\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        {!editMode &&\r\n          <div>\r\n            <span onDoubleClick={activateEditMode} className={s.status} >{props.status || '-------'}</span>\r\n          </div>\r\n        }\r\n        {editMode &&\r\n          <div>\r\n            <input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} value={status}/>\r\n          </div>\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n    // return (\r\n    //   <div>\r\n    //     <div>\r\n    //       {this.state.editMode\r\n    //         ?  <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode} value={this.state.status}/>\r\n    //         :  <span className={s.status} onDoubleClick={this.activateEditMode}>{this.props.status || '-------'}</span>\r\n    //       }\r\n    //     </div>\r\n    //   </div>\r\n    // );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import {createField, Input, Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport s from '../ProfileInfo/ProfileInfo.module.css'\r\nimport es from '../../common/FormsControls/FormsControls.module.css'\r\nimport {reduxForm} from \"redux-form\";\r\nimport React from \"react\";\r\n\r\n\r\nconst ProfileDataForm = ({handleSubmit,profile, error}) => {\r\n  return <form onSubmit={handleSubmit}>\r\n\r\n    <button>Save</button>\r\n\r\n    {error && <div className={es.formSummaryError}>{error}</div>}\r\n\r\n    <div>\r\n      <b>Full name</b>: {createField('Full name', 'fullName', Input, [])}\r\n    </div>\r\n    <div>\r\n      <b>Looking for a Job: </b>{createField(null, 'lookingForAJob', Input ,[], {type:'checkbox'})}\r\n    </div>\r\n    <div>\r\n      <b>Skills</b>: {createField('Skills', 'lookingForAJobDescription', Textarea ,[])}\r\n    </div>\r\n    <div>\r\n      <b>About me</b>: {createField('About me', 'aboutMe', Textarea ,[])}\r\n    </div>\r\n\r\n\r\n    <div><b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\r\n      return <div key={key} className={s.contact}>\r\n        <b>{key}: {createField(key, 'contacts.'+key, Input ,[])}</b>\r\n      </div>\r\n    })}</div>\r\n  </form>\r\n}\r\n\r\nconst ProfileDataReduxForm = reduxForm({form: 'edit-profile'})(ProfileDataForm);\r\n\r\nexport default ProfileDataReduxForm;\r\n","import s from '../ProfileInfo/ProfileInfo.module.css'\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport ava from \"../../../assets/images/avatar.png\";\r\nimport {useState} from \"react\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\n\r\nconst ProfileInfo = ({profile, updateStatus, status, isOwner, savePhoto, saveProfile}) => {\r\n\r\n  let [editMode, setEditMode]=useState(false);\r\n\r\n  if (!profile) {\r\n    return <Preloader/>\r\n  }\r\n\r\n  const onMainPhotoSelected = (e) => {\r\n    if (e.target.files.length) {\r\n      savePhoto(e.target.files[0]);\r\n    }\r\n  }\r\n\r\n  const onSubmit = (formData) => {\r\n    saveProfile(formData).then(()=>{\r\n      setEditMode(false);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className={s.content}>\r\n      <div className={s.body}>\r\n        <div className={s.gAreaL}>\r\n          <div className={s.profile}>\r\n            <div className={s.photo}>\r\n              <img src={profile.photos.large || ava}/>\r\n              {isOwner && <input type={'file'} onChange={onMainPhotoSelected}/>}\r\n            </div>\r\n            <button>Follow</button>\r\n          </div>\r\n\r\n        </div>\r\n        <div className={s.gAreaR}>\r\n\r\n          {editMode\r\n            ? <ProfileDataForm initialValues={profile} profile={profile} onSubmit={onSubmit}/>\r\n            :  <ProfileData isOwner={isOwner} goToEditMode={()=>{setEditMode(true)}} profile={profile}/>\r\n          }\r\n\r\n          <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\r\n  return <div>\r\n\r\n    {isOwner && <div><button onClick={goToEditMode}>Edit</button></div>}\r\n\r\n    <div>{profile.fullName}</div>\r\n    <div><b>Looking for a Job: </b>{profile.lookingForAJob ? 'yes' : 'no'}</div>\r\n    {profile.lookingForAJob && <div><b>Skills: {profile.lookingForAJobDescription}</b></div>}\r\n    <div><b>About me: </b>{profile.aboutMe}</div>\r\n    <div><b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\r\n      return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n    })}</div>\r\n  </div>\r\n}\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n  return <div><b>{contactTitle}</b>: {contactValue}</div>\r\n}\r\n\r\nexport default ProfileInfo;\r\n","export default __webpack_public_path__ + \"static/media/katanaBottom.f2cf9cca.png\";","export default __webpack_public_path__ + \"static/media/decorLogo.c3eda4a7.png\";","import s from '../Post/Post.module.css'\r\nimport katana from '../../../../assets/images/katanaBottom.png'\r\nimport decorLogo from '../../../../assets/images/decorLogo.png'\r\nimport ava from '../../../../assets/images/avatar.png'\r\n\r\nconst Post = (props) => {\r\n\r\n    return (\r\n        <div className={s.item}>\r\n            <div className={s.decor}>\r\n                <div><img className={s.decor_logo} src={decorLogo} alt=\"\"/></div>\r\n                <div><img className={s.decor_logo} src={decorLogo} alt=\"\"/></div>\r\n            </div>\r\n\r\n            <div className={s.header}>\r\n                <img className={s.avatar} src={ava} alt=\"\"/>\r\n            </div>\r\n\r\n            <div className={s.text_zone}>\r\n                <div className={s.post_text}>{props.message}</div>\r\n            </div>\r\n            <div>\r\n                <img className={s.katana}  src={katana} alt=\"\"/>\r\n            </div>\r\n            <div className={s.like_zone}>\r\n                <div><span>Like {props.likesCount}</span></div>\r\n            </div>\r\n            <div className={s.decor}>\r\n                <div><img className={s.decor_logo} src={decorLogo} alt=\"\"/></div>\r\n                <div><img className={s.decor_logo} src={decorLogo} alt=\"\"/></div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default Post;","import Post from \"./Post/Post\";\r\nimport React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport { maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\nconst maxLength10=maxLengthCreator(10);\r\n\r\nconst MyPosts = React.memo(props => {\r\n\r\n  let postsElement = props.posts.map(p => <Post message={p.message} likesCount={p.likesCount} key={p.id}/>)\r\n\r\n  let onAddPost = (values) => {\r\n    props.addPost(values.newPostText);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>My Post</h3>\r\n      <MyPostReduxForm onSubmit={onAddPost}/>\r\n      {postsElement}\r\n    </div>\r\n\r\n  )\r\n});\r\n\r\nconst MyPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field placeholder={'Enter your post'} name={'newPostText'} component={Textarea} validate={[required, maxLength10]}/>\r\n      <button>Add post</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst MyPostReduxForm=reduxForm({form:'myPost'})(MyPostForm);\r\n\r\nexport default MyPosts;\r\n","import React from \"react\";\r\nimport {addPostActionCreator, updateNewPostTextActionCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText\r\n  }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostText) => {\r\n      dispatch(addPostActionCreator(newPostText))\r\n    },\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import s from '../Profile/Profile.module.css'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div className={s.content}>\r\n            <ProfileInfo isOwner={props.isOwner} profile={props.profile} status={props.status} updateStatus={props.updateStatus} saveProfile={props.saveProfile} savePhoto={props.savePhoto}/>\r\n            <MyPostsContainer />\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfile, getStatus, updateStatus, savePhoto, saveProfile} from \"../../redux/profile-reducer\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  refreshProfile() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId;\r\n    }\r\n    ;\r\n    this.props.getProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshProfile()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n      this.refreshProfile();\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    if (!this.props.isAuth) return <Redirect to={'/login'}/>;\r\n\r\n    return (\r\n      <Profile {...this.props}\r\n               isOwner={!this.props.match.params.userId}\r\n               profile={this.props.profile}\r\n               status={this.props.status}\r\n               updateStatus={this.props.updateStatus}\r\n               savePhoto={this.props.savePhoto}\r\n               saveProfile={this.props.saveProfile}/>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {getProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer);\r\n\r\n\r\n"],"sourceRoot":""}