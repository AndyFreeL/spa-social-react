(this["webpackJsonpspa-social-react"]=this["webpackJsonpspa-social-react"]||[]).push([[3],{299:function(t,e,s){"use strict";s.d(e,"a",(function(){return h}));var c=s(3),o=s(39),a=s(40),n=s(43),i=s(42),r=s(1),j=s.n(r),l=s(10),u=s(14),b=s(0),d=function(t){return{isAuth:t.auth.isAuth}},h=function(t){var e=function(e){Object(n.a)(r,e);var s=Object(i.a)(r);function r(){return Object(o.a)(this,r),s.apply(this,arguments)}return Object(a.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(b.jsx)(t,Object(c.a)({},this.props)):Object(b.jsx)(l.a,{to:"/login"})}}]),r}(j.a.Component);return Object(u.b)(d)(e)}},300:function(t,e,s){t.exports={content:"ProfileInfo_content__4G1Zp",body:"ProfileInfo_body__B9Pj6",gAreaL:"ProfileInfo_gAreaL__2Gsic",gAreaR:"ProfileInfo_gAreaR__1mn9q",photo:"ProfileInfo_photo__M5UJR",about:"ProfileInfo_about__1Ik8C",status:"ProfileInfo_status__1bXnb",contact:"ProfileInfo_contact__Cj-Sv"}},301:function(t,e,s){t.exports={content:"Profile_content__1Kzvb"}},302:function(t,e,s){t.exports={item:"Post_item__don9T",avatar:"Post_avatar__3X2I6",header:"Post_header__2MnSd",text_zone:"Post_text_zone__2_595",like_zone:"Post_like_zone__37LAY",post_text:"Post_post_text__RRLtC",katana:"Post_katana__1xy13",decor:"Post_decor__3JI67",decor_logo:"Post_decor_logo__1C67g"}},304:function(t,e,s){"use strict";s.r(e);var c=s(3),o=s(39),a=s(40),n=s(43),i=s(42),r=s(1),j=s.n(r),l=s(301),u=s.n(l),b=s(100),d=s(300),h=s.n(d),O=s(72),f=s(0),p=function(t){var e=Object(r.useState)(!1),s=Object(b.a)(e,2),c=s[0],o=s[1],a=Object(r.useState)(t.status),n=Object(b.a)(a,2),i=n[0],j=n[1];Object(r.useEffect)((function(){j(t.status)}),[t.status]);return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{children:[!c&&Object(f.jsx)("div",{children:Object(f.jsx)("span",{onDoubleClick:function(){o(!0)},className:h.a.status,children:t.status||"-------"})}),c&&Object(f.jsx)("div",{children:Object(f.jsx)("input",{onChange:function(t){j(t.currentTarget.value)},onBlur:function(){o(!1),t.updateStatus(i)},autoFocus:!0,value:i})})]})})},x=s(23),m=s(25),v=s(44),_=s.n(v),g=s(131),P=Object(g.a)({form:"edit-profile"})((function(t){var e=t.handleSubmit,s=t.profile,c=t.error;return Object(f.jsxs)("form",{onSubmit:e,children:[Object(f.jsx)("button",{children:"Save"}),c&&Object(f.jsx)("div",{className:_.a.formSummaryError,children:c}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Full name"}),": ",Object(m.c)("Full name","fullName",m.a,[])]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Looking for a Job: "}),Object(m.c)(null,"lookingForAJob",m.a,[],{type:"checkbox"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Skills"}),": ",Object(m.c)("Skills","lookingForAJobDescription",m.b,[])]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me"}),": ",Object(m.c)("About me","aboutMe",m.b,[])]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts"}),": ",Object.keys(s.contacts).map((function(t){return Object(f.jsx)("div",{className:h.a.contact,children:Object(f.jsxs)("b",{children:[t,": ",Object(m.c)(t,"contacts."+t,m.a,[])]})},t)}))]})]})})),k=function(t){var e=t.profile,s=t.isOwner,c=t.goToEditMode;return Object(f.jsxs)("div",{children:[s&&Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:c,children:"Edit"})}),Object(f.jsx)("div",{children:e.fullName}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Looking for a Job: "}),e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&Object(f.jsx)("div",{children:Object(f.jsxs)("b",{children:["Skills: ",e.lookingForAJobDescription]})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me: "}),e.aboutMe]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts).map((function(t){return Object(f.jsx)(S,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})},S=function(t){var e=t.contactTitle,s=t.contactValue;return Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:e}),": ",s]})},N=function(t){var e=t.profile,s=t.updateStatus,c=t.status,o=t.isOwner,a=t.savePhoto,n=t.saveProfile,i=Object(r.useState)(!1),j=Object(b.a)(i,2),l=j[0],u=j[1];if(!e)return Object(f.jsx)(O.a,{});return Object(f.jsx)("div",{className:h.a.content,children:Object(f.jsxs)("div",{className:h.a.body,children:[Object(f.jsx)("div",{className:h.a.gAreaL,children:Object(f.jsxs)("div",{className:h.a.profile,children:[Object(f.jsxs)("div",{className:h.a.photo,children:[Object(f.jsx)("img",{src:e.photos.large||x.a}),o&&Object(f.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&a(t.target.files[0])}})]}),Object(f.jsx)("button",{children:"Follow"})]})}),Object(f.jsxs)("div",{className:h.a.gAreaR,children:[l?Object(f.jsx)(P,{initialValues:e,profile:e,onSubmit:function(t){n(t).then((function(){u(!1)}))}}):Object(f.jsx)(k,{isOwner:o,goToEditMode:function(){u(!0)},profile:e}),Object(f.jsx)(p,{status:c,updateStatus:s})]})]})})},A=s(99),y=s(302),I=s.n(y),C=s.p+"static/media/katanaBottom.f2cf9cca.png",w=s.p+"static/media/decorLogo.c3eda4a7.png",J=function(t){return Object(f.jsxs)("div",{className:I.a.item,children:[Object(f.jsxs)("div",{className:I.a.decor,children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{className:I.a.decor_logo,src:w,alt:""})}),Object(f.jsx)("div",{children:Object(f.jsx)("img",{className:I.a.decor_logo,src:w,alt:""})})]}),Object(f.jsx)("div",{className:I.a.header,children:Object(f.jsx)("img",{className:I.a.avatar,src:x.a,alt:""})}),Object(f.jsx)("div",{className:I.a.text_zone,children:Object(f.jsx)("div",{className:I.a.post_text,children:t.message})}),Object(f.jsx)("div",{children:Object(f.jsx)("img",{className:I.a.katana,src:C,alt:""})}),Object(f.jsx)("div",{className:I.a.like_zone,children:Object(f.jsx)("div",{children:Object(f.jsxs)("span",{children:["Like ",t.likesCount]})})}),Object(f.jsxs)("div",{className:I.a.decor,children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{className:I.a.decor_logo,src:w,alt:""})}),Object(f.jsx)("div",{children:Object(f.jsx)("img",{className:I.a.decor_logo,src:w,alt:""})})]})]})},T=s(93),z=s(70),F=Object(z.a)(10),L=j.a.memo((function(t){var e=t.posts.map((function(t){return Object(f.jsx)(J,{message:t.message,likesCount:t.likesCount},t.id)}));return Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"My Post"}),Object(f.jsx)(M,{onSubmit:function(e){t.addPost(e.newPostText)}}),e]})})),M=Object(g.a)({form:"myPost"})((function(t){return Object(f.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(f.jsx)(T.a,{placeholder:"Enter your post",name:"newPostText",component:m.b,validate:[z.b,F]}),Object(f.jsx)("button",{children:"Add post"})]})})),E=L,R=s(14),D=Object(R.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(A.a)(e))}}}))(E),U=function(t){return Object(f.jsxs)("div",{className:u.a.content,children:[Object(f.jsx)(N,{isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus,saveProfile:t.saveProfile,savePhoto:t.savePhoto}),Object(f.jsx)(D,{})]})},B=s(10),V=s(299),G=s(9),X=function(t){Object(n.a)(s,t);var e=Object(i.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(a.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId),this.props.getProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!=t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return this.props.isAuth?Object(f.jsx)(U,Object(c.a)(Object(c.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile})):Object(f.jsx)(B.a,{to:"/login"})}}]),s}(j.a.Component);e.default=Object(G.d)(Object(R.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getProfile:A.c,getStatus:A.d,updateStatus:A.g,savePhoto:A.e,saveProfile:A.f}),B.g,V.a)(X)}}]);
//# sourceMappingURL=3.719706a4.chunk.js.map